# -*- coding: utf-8 -*-
# *** Spyder Python Console History Log ***

##---(Tue Sep 18 17:06:13 2012)---
import numpy
import numpy as np
np.__doc__
numpy.__doc__
pi
e
import numpy as np
np.random.random_integers(2,10,2)
import numpy as np
import scipy as sp
import pandas
from pandas import Series

##---(Tue Sep 18 17:47:29 2012)---
import pandas

##---(Tue Sep 18 17:54:17 2012)---
ls

##---(Tue Sep 18 18:08:22 2012)---
import numpy as np
import scipy as sp
from pandas import DataFrame

##---(Tue Sep 18 18:18:10 2012)---
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
from pandas.io import parsers
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
data = parsers.read_csv('~/Desktop/bootcamp/data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
os.chdir(~/Desktop/bootcamp/)
os.chdir(~Desktop/bootcamp/)
os.chdir('~Desktop/bootcamp/')
os.chdir(~Desktop/bootcamp)
os.chdir(~/Desktop/bootcamp)
import os
os.chdir(~/Desktop/bootcamp)
os.chdir(~.Desktop/bootcamp)
os.getcwd
os.getcwd()
os.chdir('~/Desktop/bootcamp')

##---(Tue Sep 18 22:07:03 2012)---
import os
os.chdir('~/Desktop/bootcamp')
os.getcwd()
os.chdir('~/Users/kding/Desktop/bootcamp')
os.chdir('/Users/kding/Desktop/bootcamp')
os.getcwd()
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
import numpy as np
import scipy as sp
from pandas import DataFrame
from pandas.io import parsers
import os
os.chdir('/Users/kding/Desktop/bootcamp')
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=1)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=1, index_col=1)
data = read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=1, index_col=1)
data = parser.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=1, index_col=1)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=1, index_col=1)
data= data.to_csv('data_set_HL60_U937_NB4_Jurkat.txt',sep='\t', index=False, header=True,cols=1)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=TRUE)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
dxyz = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True)
dxyz = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, cols = 36)
dxyz = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, cols=36)
dxyz = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, inex_col=1)
dxyz = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, index_col=1)
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, index_col=1)
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows:2)
range(2)
range(1:2)
range(1,2)
range(2,3)
range(1,3)
range(2,4)
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows:range(2,4))
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=range(2,4))
np.head(h1)
import numpy as np
np.head(h1)
np.head(hl)
h1.head()
hl.head()
hl
hl.tail()
length(hl)
hl.shape
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', index_col=1, header=True, skiprows=range(2,4), )
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', ncols=36, header=True, skiprows=range(2,4), )
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=range(2,4), ncols=36 )
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=2:4 )
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=2:4)
hl = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=range(2,4)
)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=range(2,4))
data.head
data.shape
class ExpressionAnalyzer(data)
class ExpressionAnalyzer(data):
	def import_file(self, 'data_set_HL60_U937_NB4_Jurkat.txt'):
class ExpressionAnalyzer(data):
	def import_file(self, data_set_HL60_U937_NB4_Jurkat.txt):
class ExpressionAnalyzer(object):
    '''
    Responsible for importing and analyzing gene expression data.
    Expects data with named samples as columns and genes as rows.
    '''
    def import_file(self, filename):
        ''' Import data from file and return a DataFrame object. '''
if __name__ == '__main__':
    ea = ExpressionAnalyzer()
    ea.import_file('/Users/kding/Desktop/bootcamp/data_set_HL60_U937_NB4_Jurkat.txt')
object
self
python expression_analyzer.py
object__name__
ea
ea.import_file
filename
ea.shape
object.shape
object.__class__
object.__doc__
ExpressionAnalyzer(data)
data.head
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep=',', header=True, skiprows=range(2,4))
data.head
data.shape
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep='\t', header=True, skiprows=range(2,4))
data.shape
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', header=True, skiprows=range(2,4))
data.shape
data.head(1)
data.head(n = 1)
data.head(n = 2)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=True, skiprows=range(2,4))
data.head(n = 2)
data.head(n = 1)
data.head(n = 3)
data.head(n = 2)
data[HL60_0_hrs]
data['HL60_0_hrs']
data
data['BioC']
data
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=1, skiprows=range(2,4))
data['HL60_0_hrs']
data.head
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=1, nrows=range(5,20))
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=1, skiprows=range(2,4))
range(2,4)
data.shape
data.head
data[1]
data[:1]
data[:4]
data[::]
print(data)
help(np.reshape)
a = np.array([[1,2,3], [4,5,6]])
a
a[1]
a[0]
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=1, skiprows=range(1,3))
data.head()
data.shape()
data.shape
data.head(n=10)
data.head(n=4)
range(1,3)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=0, skiprows=range(1,3))
data.head
data.shape
data['HL60_0_hrs']
data[A.9]
data['A.9']
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=True, skiprows=range(1,3))
data['A.9']
data.shape
data.head
data.head(n = 5)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=F, skiprows=range(1,3))
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=False, skiprows=range(1,3))
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=True, skiprows=range(1,3))
data.head()
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", header=0, skiprows=range(1,3))
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=range(1,3))
data.head
data.shape
data['Gene Description'].head(n=10)
data['Gene Description'].head(n=3)
unique = list(set(data['Gene Descriptin']))
unique = list(set(data['Gene Description']))
unique
unique.head
length(unique)
len(unique)
np.cor()
data.head(n=3)
np.ma.cov(data['HL60_0_hrs','call','HL60_4_hrs','call.1'])
data['HL60_0_hrs','call','HL60_4_hrs','call.1']
np.ma.cov(data['HL60_0_hrs' 'call' 'HL60_4_hrs' 'call.1'])
data['HL60_0_hrs']
data['call']
data['call.1']
data['HL60_4_hrs']
np.ma.cov(data[['HL60_0_hrs' 'call' 'HL60_4_hrs' 'call.1']])
['HL60_0_hrs' 'call' 'HL60_4_hrs' 'call.1']
np.ma.cov(data[['HL60_0_hrs','call','HL60_4_hrs','call.1']])
data[['HL60_0_hrs','call','HL60_4_hrs','call.1']]
data['call']
data['HL60_4_hrs']
np.ma.cov(data[['call','call.1','call.2','call.3']])
np.correlata(data[['call','call.1','call.2','call.3']])
np.correlate(data[['call','call.1','call.2','call.3']])
np.cov(data[['call','call.1','call.2','call.3']])
np.corrcoef(data[['call','call.1','call.2','call.3']])
np.corrcoef(data[['call','call.1','call.2']])
np.corrcoef(data[['call','call.1']])
data[['call','call.1']]
data[['call','call.1']].head(n=4)
np.corrcoef(data[['call','call.1']].head(n=4))
np.correlate(data[['call','call.1']].head(n=4))
np.correlate(data['call'], data['call.1'])
data['call']
data['call.1']
np.correlate(data['call'], data['call.1'])
np.correlate(np.array(data['call']), np.array(data['call.1']))
np.array(data['call'])
data.shape
data.tail
data.tail(n=2)
data['NB4_72_hrs'].tail(n=2)
data['NB4_72_hrs'].tail(n=5)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=range(1,3), nrows = 7229)
data.shape
data['NB4_72_hrs'].tail(n=5)
np.correlate(np.array(data['call']), np.array(data['call.1']))
np.array(data['call'])
np.array(data['call.1']
)
np.corrcoef(data[['call','call.1']].head(n=4))
data[['call','call.1']].head(n=4)
np.corrcoef(data[['call','call.1']].head(n=10))
np.correlate(np.array(data['call']), np.array(data['call.1']))
import numpy as np
import scipy
from pandas import DataFrame
from pandas.io import parsers
import os
import scipy
import numpy as np
import scipy
from pandas import DataFrame
from pandas.io import parsers
import os
import numpy as np
import scipy
from pandas import DataFrame
from pandas.io import parsers
import os
np.corrcoef(data[['call','call.1']].head(n=10))
scipy.stats.pearsonr(np.array(data['call']), np.array(data['call.1']))
from scipy import stats
scipy.stats.pearsonr(np.array(data['call']), np.array(data['call.1']))
scipy.stats.pearsonr(data['call'], data['call.1'])
np.correlate(data['call'], data['call.1'])
np.corrcoef(data['call'], data['call.1'])
np.corrcoef(data[['call','call.1']].head(n=10))
scipy.stats.pearsonr(data['call'], data['call.1'])
np.corrcoef(data['call'], data['call.1'])
scipy.stats.pearsonr(data['call'], data['call.1'])
scipy.stats.pearsonr(data['call'], data['call.1'], data['call.2'])
np.corrcoef(data['call'], data['call.1'], data['call.2'])
xrange(data)
data.shape
len(data[call.1])
len(data['call.1'])
for i in xrange(len(data['call.1'])): # rows are the number of rows in the matrix. 
    for j in xrange(i, len(data['call.1'])):
        r = scipy.stats.pearsonr(data[i,:], data[j,:])
        print r  
xrange(len(data['call.1']))
xrange(7229)
range(7229)
for i in xrange(len(data['call.1'])): # rows are the number of rows in the matrix. 
    for j in xrange(i, len(data['call.1'])):
        r = scipy.stats.pearsonr(data[i,:], data[j,:])
        print r  
data[1,:]
a
a[i,:]
a[1,:]
a[:,1]
seq = np.array(1,2,3)
seq = np.array[1,2,3]
seq = np.array[[1,2,3]]
4, 5, 6
seq = 2, 3, 4
seq
range(0,10,2)
data.shape[2]
data.shape[1]
data.shape[0]
range(0,data.shape[1])
range(0,data.shape[1]+1)
ange(0,data.shape[1]+1,2)
range(0,data.shape[1]+1,2)
data.head
data[2,:]
data[1,:]
data[3,:]
data[4,:]
data[:,5]
a[1:]
a[1,:]
a[1,1]
a[,1]
a[:,1]
a[:1]
a[:,1]
data[:,1]
data.dtypes
data.dtypes[0]
data.dtypes[1]
data.dtypes[2]
data.dtypes[3]
data.dtype.names
data.dtypes.names
data.dtypes.name
data.dtypes.name()
data.dtypes.name
data.dtype.name
data.columns
seq = range(0,data.shape[1]+1,2)
data.columns[seq]
seq = range(3,data.shape[1]+1,2)
data.columns[seq]
seq = range(3,data.shape[1],2)
data.columns[seq]
seq = range(3,data.shape[1]-1,2)
data.columns[seq]
seq = range(3,data.shape[1]-2,2)
data.columns[seq]
seq = range(3,data.shape[1],2)
data.columns[seq]
data[data.columns[seq]]
data[data.columns[range(4),seq]]
data[data.columns[:,seq]]
seq = range(3,data.shape[1],2)
values = data[data.columns[seq]]
values.shape
for i in xrange(values.shape[0]): # rows are the number of rows in the matrix. 
    for j in xrange(i, values.shape[0]):
        r = scipy.stats.pearsonr(values[i,:], values[j,:])
        print r  
for i in xrange(values.shape[1]): # rows are the number of rows in the matrix. 
    for j in xrange(i, values.shape[1]):
        r = scipy.stats.pearsonr(values[:,i], values[,j])
        print r  
for i in xrange(values.shape[1]): # rows are the number of rows in the matrix. 
    for j in xrange(i, values.shape[1]):
        r = scipy.stats.pearsonr(values[:,i], values[:,j])
        print r  
values[:,1]
values
values['call.1]
values['call.1']
data.columns[seq]
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[:,i], values[:,j])
        print r  
for i in data.columns[seq]:
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
			print i
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
        print r  
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
					x[i,j] = r
seq = range(3,data.shape[1],2)
values = data[data.columns[seq]]
x = np.matrix(NaN, copy = True).rehape(35, 35)
x = np.matrix(NaN, copy = True).reshape(35, 35)
seq = range(3,data.shape[1],2)
values = data[data.columns[seq]]
x = np.matrix(NaN, copy = True)
x
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
					x[i,j] = r
x = np.matrix(NaN, 20,20)  
x
x = np.matrix(NaN, 20)
x = [[NA for i in range(seq)] for j in range(seq)]
x = [[NA for i in range(len(seq))] for j in range(len(seq))]
x = [[foo for i in range(len(seq))] for j in range(len(seq))]
range(len(seq))
x = [[0 for i in range(len(seq))] for j in range(len(seq))]
x
data.columns[seq]
x.shape
x.count
x.type
x.__sizeof__
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
					x[i,j] = r
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
								x[i,j] = r
x[3,4]
x[1,]
x[1:]
x[1,2,3]
x[1]
x[2]
x[,2]
x = [[Na for i in range(15)] for j in range(15)]
x = [[foo for i in range(15)] for j in range(15)]
foo
x = [[NA for i in range(15)] for j in range(15)]
x = [[na for i in range(15)] for j in range(15)]
x = [[NULL for i in range(15)] for j in range(15)]
x = [[null for i in range(15)] for j in range(15)]
x = [[0 for i in range(15)] for j in range(15)]
x
x[1
]
x[,1]
x = np.matrix(x)
x
x[,1]
x[:1]
x[1:]
x[1,]
x[,1]
x.shape
x[1,2]
x[1,10]
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        r = scipy.stats.pearsonr(values[i], values[j])
				  x[i,j] = r
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        x[i,j] = scipy.stats.pearsonr(values[i], values[j])
				  
x[1,5] = scipy.stats.pearsonr(values[1], values[5])
data.columns[1]
, values[5])
data.columns[3]
x[3,5] = scipy.stats.pearsonr(data.columns[3], data.columns[5])
data.columns[3]
values[data.columns[3]]
scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])
scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])[1]
scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])[0]
x[3,5] = scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])[0]
x
x[3,5]
scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])[0]
x[3,5] = scipy.stats.pearsonr(values[data.columns[3]], values[data.columns[5]])[0]
x
x[3,5]
x.type
type(x)
for i in data.columns[seq]: # rows are the number of rows in the matrix. 
    for j in data.columns[seq]:
        z[i,j] = scipy.stats.pearsonr(values[i], values[j])[0]
data.columns
data['call']
data
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[1,2], nrows = 7229)
data.head()
data.shape
[1,2]
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[1,2])
data.shape
data.tail
data['call'].tail
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[0,1,2])
data.head
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[1,2])
data.head
data['Gene description']
data.head
data['Gene Description']
data['Gene Description'].head
data['Gene Description'].head(n = 5)
data['Gene Accession Number'].head(n = 5)
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=[1,0], header=0, skiprows=[1,2])
data.columns
data['Jurkat_24_hrs call']
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[1,2])
data.head
data['call.16']
data = parsers.read_csv('data_set_HL60_U937_NB4_Jurkat.txt', sep="\t", index_col=1, header=0, skiprows=[1,2], nrows = 7229)
data['call.16']
data.columns
data['Gene Description']
unique = list(set(data['Gene Description']))
len(unique) 
data.columns
data.shape[1]
values = data[:,range(1,data.shape[1])]
values = data[,range(1,data.shape[1])]
range(1,data.shape[1])
values = data[,data.columns[range(1,data.shape[1])]]
data.columns[range(1,data.shape[1])]
values = data[data.columns[range(1,data.shape[1])]]
values.columns
values.shape
values = data[data.columns[range(1,data.shape[1]),2]]
values = data[data.columns[range(1,data.shape[1],2)]]
values.shape
values.columns
hl60 = values[value.columns[range(0,3)]]
hl60 = values[values.columns[range(0,3)]]
hl60.shape
hl60 = values[values.columns[range(0,3)+1]]
range(0,3)
hl60 = values[values.columns[range(0,4)]]
hl60.shape
hl60.columns
values.columns
u937 = values[values.columns[range(4,8)]]
nb4 = values[values.columns[range(8,13)]]
jurkat = values[values.columns[range(13,18)]]
jurkat = values[values.columns[range(13,17)]]
jurkat.columns
nb4.columns
u937.columns
scipy.stats.pearsonr(values[,3], values[,4])
scipy.stats.pearsonr(values[:,3], values[:,4])
values[:,3]
values[:3]
values[:3].head(n=10)
values[:3].head(n=3)
values[,3].head(n=3)
values['U937_0.5_hrs'].head(n=3)
values['U937_0.5_hrs'].head(n=10)
values['U937_0.24_hrs'].head(n=10)
nb4.columns
nb4['NB4_0_hrs'].head(n=5)
scipy.stats.pearsonr( nb4['NB4_0_hrs'].head(n=5),  nb4['NB4_5.5_hrs'].head(n=5))
scipy.stats.pearsonr( nb4['NB4_0_hrs'],  nb4['NB4_5.5_hrs'])
for i in xrange(hl60.shape[0]): # rows are the number of rows in the matrix. 
    for j in xrange(i, hl60.shape[0]):
        r = scipy.stats.pearsonr(hl60[i,:], hl60[j,:])
        print r 				
for i in xrange(hl60.shape[0]): # rows are the number of rows in the matrix. 
    for j in xrange(i, hl60.shape[0]):
        r = scipy.stats.pearsonr(np.array(hl60[i,:]), np.array(hl60[j,:]))
        print r 		
np.array(hl60[i,:])
hl60.mean
z = hl60.mean
print z
hl60.mean(axis=1)
hl60.mean(axis=1)[(slice(None,None,None),None)]
0:10:2
a[0:10:2]
slice(None, None, None)
(slice(None,None,None),None)
hl60.mean(axis=1)
hl60.mean(axis=1)[(slice(None,None,None),None)]
hl60ms = hl60.mean(axis=1)[(slice(None,None,None),None)]
hl60m = hl60 - hl60ms
hl60ss = np.sqrt(scipy.stats.ss(hl60m,axis=1))
for i in xrange(rows):
    temp = np.dot(hl60m[i:],hl60m[i].T)
    rs = temp / (hl60ss[i:]*hl60ss[i])	
hl60ms = hl60.mean(axis=1)[(slice(None,None,None),None)]
hl60m = hl60 - hl60ms
hl60ss = np.sqrt(scipy.stats.ss(hl60m,axis=1))
for i in xrange(rows):
    temp = np.dot(hl60m[i:],hl60m[i].T)
    rs = temp / (hl60ss[i:]*hl60ss[i])						
hl60ms = hl60.mean(axis=1)[(slice(None,None,None),None)]
hlms = hl60.mean(axis=1)[(slice(None,None,None),None)]
hlm = hl60 - hlms
hl60 - hlms
hl60
hlms
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hl60ss = np.sqrt(scipy.stats.ss(hl60m,axis=1))
for i in xrange(rows):
    temp = np.dot(hl60m[i:],hl60m[i].T)
    rs = temp / (hl60ss[i:]*hl60ss[i])						
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hlss = np.sqrt(scipy.stats.ss(hlm,axis=1))
for i in xrange(rows):
    temp = np.dot(hlm[i:],hlm[i].T)
    rs = temp / (hlss[i:]*hlss[i])		
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hlss = np.sqrt(scipy.stats.ss(hlm,axis=1))
for i in xrange(rows):
    temp = np.dot(hlm[i:],hlm[i].T)
    rs = temp / (hlss[i:]*hlss[i])						
rs
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hlss = np.sqrt(scipy.stats.ss(hlm,axis=1))
for i in xrange(rows):
    temp = np.dot(hlm[i:],hlm[i].T)
    rs = temp / (hlss[i:]*hlss[i])						
		 print rs
hlms = hl60.mean(axis=1)
hlm = hl60 - hlms
hlss = np.sqrt(scipy.stats.ss(hlm,axis=1))
for i in xrange(rows):
    temp = np.dot(hlm[i:],hlm[i].T)
    rs = temp / (hlss[i:]*hlss[i])	
1
    rs = temp / (hlss[i:]*hlss[i])	
hlss
hlm
hl60.mean
hl60.mean(axis = 1)
hl60.mean(axis = 0)
scipy.signal.correlate2d(hl60)
import numpy as np
import scipy
from pandas import DataFrame
from pandas.io import parsers
import os
from scipy import stats
from scipy import signals
import numpy as np
import scipy
from pandas import DataFrame
from pandas.io import parsers
import os
from scipy import stats
from scipy import signal
scipy.signal.correlate2d(hl60)
hl60.columns
hl60.columns[0]
hl60[hl60.columns[0]]
numpy.correlate(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
np.correlate(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
hl60[hl60.columns[0]]
hl60[hl60.columns[1]]
np.correlate(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
np.correlate(np.array(hl60[hl60.columns[0]]), np.array(hl60[hl60.columns[1]]))
np.corrcoef(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
scipy.stats.pearsonr(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
scipy.stats.pearsonr(hl60[hl60.columns, hl60[hl60.columns)
np.corrcoef(hl60[hl60.columns, hl60[hl60.columns)
np.corrcoef(hl60[hl60.columns], hl60[hl60.columns])
np.corrcoef(hl60[hl60.columns])
 hl60.columns
hl60.columns
hl60[hl60.columns]
np.corrcoef(hl60)
np.corrcoef(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
np.corrcoef(np.matrix(hl60))
zz = np.corrcoef(np.matrix(hl60))
zz = sqrt(zz)
zz
zz = np.corrcoef(np.matrix(hl60))
zz = zz*zz
zz
np.corrcoef(hl60[hl60.columns[0]], hl60[hl60.columns[1]])
import DataFrame as df
testvalues = DataFrame[data]
testvalues = DataFrame(data)
testvalues.corr()
zz = testvalues.corr()
zz.head(n=10)
print zz
testvalues.head()
values.head
values.head(n=10)
values.tail(n=10)
hl60.corr()
u937.corr()
nb4.corr()
jurkat.corr()
data['U937_0_hrs']
data.columns[1]
hl60.corr()
u937.corr()
nb4.corr()
jurkat.corr()
hl60.columns
u937.columns
nb4.columns
jurkat.columns
hl60.corr()
values.corr()
values = data[data.columns[range(1,data.shape[1],2)]]
values.corr()
jurkat.corr()
values.corr()
zz = values.corr()
zz[,range(5)]
import scipy*
from pandas import *
from pandas.io import *
import numpy as np
import scipy
from pandas import *
from pandas.io import *
import os
from scipy import *
import DataFrame as df
values.columns
values.columns[0,1,4,5,8,13]
[0,1,4,5,8,13]
values.columns[0,1,4,5,8,13]
values.columns
values.columns[1,2]
comparecell = values[values.columns[[0,1,4,5,8,13]]]
comparecell
comparecell.columns
comparecell = values[values.columns[[0,1,4,5,8,13,14]]]
comparecell.corr()
comparecell = values[values.columns[[0,4,8,13]]]
comparecell.corr()
hl60.corr()
u937.corr()
nb4.corr()
jurkat.corr()
values.columns
len(values.columns)
comparecellslater = values[values.columns[[3,7,12,17]]]
comparecellslater = values[values.columns[[3,7,12,16]]]
comparecellslater.columns
comparecell = values[values.columns[[0,4,6,13]]]
comparecellslater.columns
values.columns[[0,4,6,13]]
comparecellslater = values[values.columns[[3,7,10,16]]]
comparecellslater.columns
comparecellslater.corr()
values.shape[1]
values.shape[0]
xrange(values.shape[0])
values[1,:]
values[1:]
values[1]
values[,1]
values[:,1]
values.head(n=4)
values.corr()
values.var(axis = 0)
values.var(axis = 1)
allvar = values.var(axis = 1)
allvar.sort
allvar.sort()
allvar.sort().head(n=10)
allvar = values.var(axis = 1)
finalsorted = allvar.sort(kind='qucksort')
finalsorted.head(n=10)
finalsorted
allvar
diffhl60 = hl60[3]/hl60[0]
diffhl60 = hl60[hl60.columns[3]]/hl60[hl60.columns[0]]
diffhl60
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl60
diffhl60.abs()
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl60.abs
diffhl60.sort()
diffhl60
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl60.abs
diffhl60.sort()
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl160abs = diffhl60.abs
diffhl160abs.sort()
diffhl160abs
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl160abs = diffhl60.abs.sort()
diffhl160abs.sort()
diffhl160abs = diffhl60.sortabs()
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl60
diffhl60>2
diffhl60abs = diffhl60.abs()
diffhl60 = 2**hl60[hl60.columns[3]]/2**hl60[hl60.columns[0]]
diffhl60abs = diffhl60.abs()
diffhl60abs[diffhl60abs>2]
diffhl60abs = diffhl60.abs()
diffhl60abs
diffhl60abs>2
diffhl60 = hl60[hl60.columns[3]]/hl60[hl60.columns[0]]
diffhl60abs = diffhl60.abs()
diffhl60abs[diffhl60abs>2]
hl60[hl60.columns[3]]
diffhl60abs[diffhl60abs>2]
diffu937 = u937[u937.columns[3]]/u937[u937.columns[0]]
diffu937abs = diffu937.abs()
diffu937abs[diffu937.abs>2]
diffu937 = u937[u937.columns[3]]/u937[u937.columns[0]]
diffu937abs = diffu937.abs()
diffu937abs[diffu937abs>2]
diffnb4 = nb4[nb4.columns[3]]/nb4[u937.columns[0]]
diffnb4abs = diffnb4.abs()
diffnb4abs[diffnb4abs>2]
nb4.columns
u937.columns
jurkat.columns
diffnb4 = nb4[nb4.columns[2]]/nb4[u937.columns[0]]
diffnb4abs = diffnb4.abs()
diffnb4abs[diffnb4abs>2]
diffnb4 = nb4[nb4.columns[2]]/nb4[nb4.columns[0]]
diffnb4abs = diffnb4.abs()
diffnb4abs[diffnb4abs>2]
diffjurkat = jurkat[jurkat.columns[3]]/jurkat[jurkat.columns[0]]
diffjurkatabs = diffjurkat.abs()
diffjurkatabs[diffjurkatabs>2]
diffhlu = hl60[hl60.columns[0]]/u937[u937.columns[0]]
diffhlu = diffhlu.abs()
diffhlu[diffhluabs>2]
diffhlu = hl60[hl60.columns[0]]/u937[u937.columns[0]]
diffhluabs = diffhlu.abs()
diffhlu[diffhluabs>2]
data.columsn
data.columns
data[data.columns[2]]
data[data.columns[2]] == P
data[data.columns[2]] = P
which(data[data.columns[2]] == P)
(data[data.columns[2]] == P)
(data[data.columns[2]] == 'P')
data[(data[data.columns[2]] == 'P'),]
data[(data[data.columns[2]] == 'P')]
data.columns
data[(data[data.columns[2]] == 'P') & (data[data.columns[8]] == 'P')]
diffhl60 = hl60present[hl60present.columns[9]]/hl60present[hl60present.columns[2]]
hl60present = data[(data[data.columns[2]] == 'P') & (data[data.columns[8]] == 'P')]
diffhl60 = hl60present[hl60present.columns[9]]/hl60present[hl60present.columns[2]]
hl60present[hl60present.columns[9]]
hl60present[hl60present.columns[2]]
diffhl60 = hl60present[hl60present.columns[7]/hl60present[hl60present.columns[1]]
]
diffhl60 = hl60present[hl60present.columns[7]]/hl60present[hl60present.columns[1]]
diffhl60abs = diffhl60.abs()
diffhl60abs[diffhl60abs>2]   #1940
data[data.columns[2]]
hl60present
diffhl60<0
diffhl60<1
hl60present = data[(data[data.columns[2]] == 'P') & (data[data.columns[8]] == 'P')]
diffhl60 = hl60present[hl60present.columns[7]]/hl60present[hl60present.columns[1]]
neghl60  = 1/diffhl60[diffhl60<1]
diffhl60[diffhl60>2 or neghl60>2]   #342
neghl60  = 1/diffhl60[diffhl60<1]
neghl60
neghl60>2
diffhl60>2 or neghl60>2
diffhl60<0
diffhl60[diffhl60<1]
1/diffhl60[diffhl60<1]
diffhl60[diffhl60>2 | neghl60>2]   #342
diffhl60[(diffhl60>2) | (neghl60>2)]   #342
neghl60  = 1/diffhl60
diffhl60[(diffhl60>2) or (neghl60>2)]   #342
diffhl60>2
(neghl60>2)
(diffhl60>2) or (neghl60>2)
diffhl60[(diffhl60>2) & (neghl60>2)]   #342
diffhl60[(diffhl60>2) or (neghl60>2)]   #342
diffhl60
(diffhl60>2) 
(neghl60>2)
1/.5
diffhl60[(diffhl60>2) or (diffhl60<2)]   #342
diffhl60[(diffhl60>2) or (diffhl60<.5)]   #342
diffhl60[diffhl60>2 or <.5)]   #342
diffhl60[diffhl60>2 or diffhl160<.5)]   #342
diffhl60>2 or diffhl160<.5
diffhl160<.5
diffhl60<.5
diffhl60>2 or diffhl60<.5
diffhl60.all(diffhl60>2 or diffhl60<.5)   #342
diffhl60.any(>2 or <.5)
diffhl60.any((diffhl60>2), (diffhl60<.5))
diffhl60.any[(diffhl60>2), (diffhl60<.5)]
diffhl60.any[(diffhl60>2), (diffhl60<.5)
]
diffhl60.any[(diffhl60>2)]
diffhl60.any(diffhl60>2)
diffhl60.any(>2)
any(diffhl60>2)
diffhl60>2
np.logical_or((diffhl60>2), (diffhl60<.5))
diffhl60(np.logical_or((diffhl60>2), (diffhl60<.5))]   #342
diffhl60[np.logical_or((diffhl60>2), (diffhl60<.5))]   #342
diffhl60[np.logical_or((diffhl60>2), (neghl60<2))]   #704
neghl60  = 1/diffhl60
diffhl60[np.logical_or((diffhl60>2), (neghl60<2))]   #704
diffhl60[np.logical_or((diffhl60>2), (neghl60>2))]   #704
diffhl60[np.logical_or((diffhl60>2), (diffhl60<.5))]   #698
data.columns
data.columns[34]
data.columns[28]
data.columns[22]
data.columns[18]
data.columns[16]
data.columns[10]]
data.columns[10]
u937present = data[(data[data.columns[10]] == 'P') & (data[data.columns[16]] == 'P')]
nb4present = data[(data[data.columns[18]] == 'P') & (data[data.columns[22]] == 'P')]
jurkatpresent = data[(data[data.columns[28]] == 'P') & (data[data.columns[34]] == 'P')]
diffu937 = u937present[u937present.columns[15]]/u937present[u937present.columns[9]]
diffu937[np.logical_or((diffu937>2), (diffu937<.5))] 
nb4present = data[(data[data.columns[18]] == 'P') & (data[data.columns[22]] == 'P')]
diffnb4 = nb4present[nb4present.columns[21]]/nb4present[nb4present.columns[17]]
diffnb4[np.logical_or((diffnb4>2), (diffnb4<.5))]   #511
jurkatpresent = data[(data[data.columns[28]] == 'P') & (data[data.columns[34]] == 'P')]
diffjurkat = jurkatpresent[jurkatpresent.columns[33]]/jurkatpresent[jurkatpresent.columns[27]]
diffjurkat[np.logical_or((diffjurkat>2), (diffjurkat<.5))]   #427
presentall = data[(data[data.columns[2]] == 'P') & (data[data.columns[8]] == 'P') & (data[data.columns[10]] == 'P') & (data[data.columns[16]] == 'P')
& (data[data.columns[18]] == 'P') & (data[data.columns[22]] == 'P') & (data[data.columns[28]] == 'P') & (data[data.columns[34]] == 'P')]
presentall
diffhl60_all = presentall[presentall.columns[7]]/presentall[presentall.columns[1]]
diffhl60_all
diffhl60_all = presentall[presentall.columns[7]]/presentall[presentall.columns[1]]
diffu937_all = presentall[presentall.columns[15]]/presentall[presentall.columns[9]]
diffnb4_all = presentall[presentall.columns[21]]/presentall[presentall.columns[17]]
diffhjurkat_all = presentall[presentall.columns[33]]/presentall[presentall.columns[27]]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all>2), (diffu937_all<.5),(diffnb4_all>2), (diffnb4_all<.5),(diffjurkat_all>2), (diffjurkat_all<.5))]
diffjurkat_all = presentall[presentall.columns[33]]/presentall[presentall.columns[27]]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all>2), (diffu937_all<.5),(diffnb4_all>2), (diffnb4_all<.5),(diffjurkat_all>2), (diffjurkat_all<.5))]
(diffjurkat_all<.5)
(diffjurkat_all>2)
diffjurkat[np.logical_or((diffjurkat>2), (diffjurkat<.5))]   #281
diffjurkat_all[np.logical_or((diffjurkat_all>2), (diffjurkat_all<.5))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all>2))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all>2), (diffu937_all<.5),(diffnb4_all>2))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all>2), (diffu937_all<.5))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all><.5))]
diffhl60_all[np.logical_or((diffhl60_all>2), (diffhl60_all<.5), (diffu937_all<.5))]
diffhl60_all[np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or(diffu937_all>2), (diffu937_all<.5)),(np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5)))]
np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or(diffu937_all>2), (diffu937_all<.5))
)
diffu937_all<.5
np.logical_or(diffu937_all>2), (diffu937_all<.5))
(np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or(diffu937_all>2), (diffu937_all<.5)
)
]
(np.logical_or(diffu937_all>2), (diffu937_all<.5))
diffu937_all = presentall[presentall.columns[15]]/presentall[presentall.columns[9]]
diffu937_all
diffu937_all[np.logical_or((diffu937_all>2), (diffu937_all<.5))]   #511
diffhl60_all[np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or((diffu937_all>2), (diffu937_all<.5)),(np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5)))]
np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or((diffu937_all>2), (diffu937_all<.5))))
np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or((diffu937_all>2), (diffu937_all<.5)))
)
(nplogical_and(np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5)))
(np.logical_and(np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5)))
np.logical_and((np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5)))
np.logical_and((np.logical_or(diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or(diffjurkat_all>2), (diffjurkat_all<.5))))]
np.logical_or((diffnb4_all>2), (diffnb4_all<.5))
(np.logical_or((diffjurkat_all>2), (diffjurkat_all<.5)))
(np.logical_and((np.logical_or((diffnb4_all>2), (diffnb4_all<.5)),(np.logical_or((diffjurkat_all>2), (diffjurkat_all<.5))))
)
np.logical_and((np.logical_or((diffnb4_all>2), (diffnb4_all<.5))),(np.logical_or((diffjurkat_all>2), (diffjurkat_all<.5))))
diffhl60_all[np.logical_and(np.logical_and((np.logical_or((diffhl60_all>2), (diffhl60_all<.5))), (np.logical_or((diffu937_all>2), (diffu937_all<.5)))),
																													(np.logical_and((np.logical_or((diffnb4_all>2), (diffnb4_all<.5))),(np.logical_or((diffjurkat_all>2), (diffjurkat_all<.5))))))]
hlu937present = data[(data[data.columns[2]] == 'P') & (data[data.columns[10]] == 'P')]
hlu937present
hlu937present = data[(data[data.columns[2]] == 'P') & (data[data.columns[10]] == 'P')]
diffhlu = hlupresent[hlupresent.columns[9]]/hlupresent[hlupresent.columns[1]]
diffhlu[np.logical_or((diffhlu>2), (diffhlu<.5))]
hlupresent[hlupresent.columns[1]]
hlupresent = data[(data[data.columns[2]] == 'P') & (data[data.columns[10]] == 'P')]
diffhlu = hlupresent[hlupresent.columns[9]]/hlupresent[hlupresent.columns[1]]
diffhlu[np.logical_or((diffhlu>2), (diffhlu<.5))]
data[data.columns[10]]
data.columns[10
]
data.columns
diffhluf = diffhlu[np.logical_or((diffhlu>2), (diffhlu<.5))]     ##913 genes
diffhluf.to_csv('finalout')
diffhluf.to_csv('finalout.csv')